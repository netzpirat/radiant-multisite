<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Dataset::RecordMethods</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Dataset::RecordMethods</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/dataset/session_binding_rb.html">
                lib/dataset/session_binding.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Any <a href="Base.html">Dataset::Base</a> subclass, dataset block, or test
method in a dataset-using test context (including
setup/teardown/before/after) may create and access models through these
methods. Note that you should use <a
href="ModelFinders.html">Dataset::ModelFinders</a> if you can for finding
your created data.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000002">create_model</a>&nbsp;&nbsp;
      <a href="#M000001">create_record</a>&nbsp;&nbsp;
      <a href="#M000003">find_id</a>&nbsp;&nbsp;
      <a href="#M000004">find_model</a>&nbsp;&nbsp;
      <a href="#M000005">name_model</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="RecordMethods.src/M000002.html" target="Code" class="method-signature"
            onclick="popupCode('RecordMethods.src/M000002.html');return false;">
          <span class="method-name">create_model</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This will instantiate your model class and assign each attribute WITHOUT
using mass assignment. Validations will be run. Very nice for complex
structures or hard to keep right validations, but potentially a bit slower,
since it runs through all that ActiveRecord code.
</p>
<pre>
    create_model :type, :symbolic_name, :attr1 =&gt; 'value', :attr2 =&gt; 'value', :etc =&gt; 'etc'
</pre>
<p>
The <em>symbolic_name</em> is an optional parameter. You may replace
<em>type</em> with an ActiveRecord::Base subclass or anything that works
with:
</p>
<pre>
   to_s.classify.constantize
</pre>
<p>
The id of the record will be kept from the instance that is saved.
</p>
        </div>
      </div>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="RecordMethods.src/M000001.html" target="Code" class="method-signature"
            onclick="popupCode('RecordMethods.src/M000001.html');return false;">
          <span class="method-name">create_record</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Similar to old fashioned fixtures, this will do a direct database insert,
without running any validations or preventing you from writing
attr_protected attributes. Very nice for speed, but kind of a pain if you
have complex structures or hard to keep right validations.
</p>
<pre>
    create_record :type, :symbolic_name, :attr1 =&gt; 'value', :attr2 =&gt; 'value', :etc =&gt; 'etc'
</pre>
<p>
The <em>symbolic_name</em> is an optional parameter. You may replace
<em>type</em> with an ActiveRecord::Base subclass or anything that works
with:
</p>
<pre>
   to_s.classify.constantize
</pre>
<p>
The id of the model will be a hash of the symbolic name.
</p>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="RecordMethods.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('RecordMethods.src/M000003.html');return false;">
          <span class="method-name">find_id</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="../Dataset.html">Dataset</a> will track each of the records it
creates by symbolic name to id. When you need the id of a record, there is
no need to go to the database.
</p>
<pre>
   find_id :person, :bobby    =&gt; 23425234
</pre>
<p>
You may pass one name or many, with many returning an Array of ids.
</p>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="RecordMethods.src/M000004.html" target="Code" class="method-signature"
            onclick="popupCode('RecordMethods.src/M000004.html');return false;">
          <span class="method-name">find_model</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="../Dataset.html">Dataset</a> will track each of the records it
creates by symbolic name to id. When you need an instance of a record, the
stored id will be used to do the fastest lookup possible:
Person.find(23425234).
</p>
<pre>
   find_model :person, :bobby    =&gt; &lt;#Person :id =&gt; 23425234, :name =&gt; 'Bobby'&gt;
</pre>
<p>
You may pass one name or many, with many returning an Array of instances.
</p>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="RecordMethods.src/M000005.html" target="Code" class="method-signature"
            onclick="popupCode('RecordMethods.src/M000005.html');return false;">
          <span class="method-name">name_model</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is a great help when you want to create records in a custom helper
method, then make it and maybe things associated to it available to tests
through the <a href="ModelFinders.html">Dataset::ModelFinders</a>.
</p>
<pre>
   thingy = create_very_complex_thingy_and_stuff
   name_model thingy, :thingy_bob
   name_model thingy.part, :thingy_part
</pre>
<p>
In tests:
</p>
<pre>
   thingies(:thingy_bob)
   parts(:thingy_part)
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>